
<div class="wash-request">
  <!-- Left Side - Slogan -->
  <div class="wash-request-left">
    <div class="slogan-content">
  <div class="guiding-title">Start Your Car Wash in 3 Easy Steps</div>

  <ul class="guiding-steps">
    <li>ðŸ—¹ Add or select your car details</li>
    <li>ðŸ—¹ Choose a wash package and optional add-ons</li>
    <li>ðŸ—¹ Confirm payment to schedule your wash</li>
  </ul>
</div>

  </div>

<div class="wash-request-right wash-request-wrapper d-flex align-items-center justify-content-center">
<div class="wash-request-form container mt-4">

    <!-- Progress Bar -->
  <div class="progress my-4">
    <div
      class="progress-bar"
      role="progressbar"
      [style.width.%]="(currentStep / 3) * 100"
      aria-valuemin="0"
      aria-valuemax="100"
    ></div>
  </div>
  <!-- <h2 class="mb-4">Request a Car Wash</h2> -->

  <!-- STEP 1: ADD CAR -->
  <form *ngIf="currentStep === 1" [formGroup]="carForm" (ngSubmit)="onCarSubmit()">
    <h2 class="mb-4">Add Car Details</h2>
    <div class="mb-3">
      <label>Brand</label>
      <input type="text" formControlName="brand" class="form-control" />
    </div>
    <div class="mb-3">
      <label>Model</label>
      <input type="text" formControlName="model" class="form-control" />
    </div>
    <div class="mb-3">
      <label>Year</label>
      <input type="number" formControlName="year" class="form-control" />
    </div>
    <div class="mb-3">
      <label>Color</label>
      <input type="text" formControlName="color" class="form-control" />
    </div>
    <div class="mb-3">
      <label>License Plate</label>
      <input type="text" formControlName="licensePlate" class="form-control" />
   </div>
    <div class="d-flex justify-content-between">
      <button class="btn btn-success" type="submit">Add Car</button>
      <button type="button" class="btn btn-secondary" (click)="skipCarForm()">Skip</button>
    </div>
  </form>

  <!-- STEP 2: WASH DETAILS -->
  <form *ngIf="currentStep === 2" [formGroup]="washRequestForm" (ngSubmit)="onSubmit()">
    <h2 class="mb-4">Request a Car Wash</h2>
    <div class="mb-3">
      <label>Select Car</label>
      <select class="form-select" formControlName="carId">
        <option value="" disabled>Select a car</option>
        <option *ngFor="let car of cars" [value]="car.carID">
          {{ car.make }} {{ car.model }} ({{ car.color }})
        </option>
      </select>
    </div>

    <div class="mb-3">
      <label>Wash Package</label>
      <select class="form-select" formControlName="washPackageId">
        <option value="" disabled>Select package</option>
        <option *ngFor="let pkg of washPackages" [value]="pkg.washPackageID">
          {{ pkg.packageName }} - â‚¹{{ pkg.price }}
        </option>
      </select>
    </div>

    <div class="mb-3">
      <label>Add-ons</label>
      <div *ngFor="let addon of addons" class="form-check">
        <input
          type="checkbox"
          class="form-check-input"
          [value]="addon.addOnID"
          (change)="onAddOnChange($event)"
        />
        <label class="form-check-label">
          {{ addon.addOnName }} (+â‚¹{{ addon.price }})
        </label>
      </div>
    </div>
    <!-- Scheduled Date and Time -->
<div class="mb-3">
  <label>Schedule for Later</label>
  <input
    type="datetime-local"
    class="form-control"
    formControlName="scheduledDateTime"
  />
</div>

<!-- Notes -->
<div class="mb-3">
  <label>Additional Notes (Optional)</label>
  <textarea
    rows="3"
    class="form-control"
    placeholder="Any specific instructions?"
    formControlName="notes"
  ></textarea>
</div>

    <div class="mb-3">
      <label>Latitude</label>
      <input type="text" formControlName="latitude" class="form-control" />
    </div>
    <div class="mb-3">
      <label>Longitude</label>
      <input type="text" formControlName="longitude" class="form-control" />
    </div>
    <button type="button" class="btn btn-main mb-3" (click)="autoFillLocation()">Use Current Location</button>

    <div class="d-flex justify-content-between">
      <button class="btn btn-outline-secondary" (click)="goToStep(1)" type="button">Previous</button>
      <button class="btn btn-outline-primary" type="submit">Next</button>
    </div>
  </form>

  <!-- STEP 3: PAYMENT -->
  <div *ngIf="currentStep === 3">
    <h2 class="mb-4">Payment Details</h2>
    <h4>Review & Confirm</h4>
    <!-- <p><strong>Car:</strong> {{ getSelectedCarInfo() }}</p>
    <p><strong>Package:</strong> {{ getSelectedPackageInfo() }}</p>
    <p><strong>Location:</strong> ({{ washRequestForm.value.latitude }}, {{ washRequestForm.value.longitude }})</p>
    <p><strong>Add-ons:</strong> {{ getSelectedAddOnsInfo() }}</p> -->

    <div class="d-flex justify-content-between mt-3">
      <button class="btn btn-outline-secondary" (click)="goToStep(2)">Previous</button>
      <button class="btn btn-success" (click)="onSubmit()">Submit</button>
    </div>
  </div>

</div>
</div>
</div>
